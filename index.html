<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ant Cost Calculator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    body { 
        font-family: sans-serif; 
        margin: 20px; 
        font-size: 18px; 
    }
    h2 { font-size: 28px; margin-bottom: 20px; }
    .row { margin-bottom: 25px; display: flex; flex-direction: column; }
    label { margin-bottom: 8px; font-weight: bold; }
    select, input[type=number], input[type=range] {
        font-size: 18px;
    }
    input[type=number] {
        width: 100%;
        padding: 8px;
        margin-top: 5px;
        box-sizing: border-box;
    }
    input[type=range] {
        width: 100%;
        margin-top: 10px;
        height: 30px; /* taller slider for touch */
        -webkit-appearance: none;
        background: #ddd;
        border-radius: 10px;
    }
    input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 30px;
        height: 30px;
        background: #555;
        border-radius: 50%;
        cursor: pointer;
    }
    .output span {
        display: block;
        font-weight: bold;
        font-size: 20px;
        margin: 6px 0;
    }
</style>
</head>
<body>

<h2>Ant Cost Calculator</h2>

<div class="row">
    <label for="antType">Ant Type:</label>
    <select id="antType">
        <option>Guardian</option>
        <option>Shooter</option>
        <option>Carrier</option>
    </select>
</div>

<div class="row">
    <label>Quantity (use text box for exact):</label>
    <input type="range" id="quantitySlider" min="1" max="9000000" value="1">
    <input type="number" id="quantityInput" value="1" min="1">
</div>

<div class="row">
    <label>Entrance Enhancement Level:</label>
    <input type="range" id="entranceSlider" min="0" max="25" value="0">
    <input type="number" id="entranceInput" value="0" min="0" max="25">
</div>

<h3>Cost:</h3>
<div class="output">
    <span>Meat: <span id="meat">0</span></span>
    <span>Plant: <span id="plant">0</span></span>
    <span>Soil: <span id="soil">0</span></span>
    <span>Sand: <span id="sand">0</span></span>
    <span>Honey: <span id="honey">0</span></span>
    <span>Fungi: <span id="fungi">0</span></span>
</div>

<script>
// ---------- Cost data ----------
const costs = {
    Guardian: {meat:67.857, plant:39.6, soil:25.205, sand:16.81356, honey:10.2, fungi:20},
    Shooter:  {meat:60.625, plant:39.6, soil:20.4, sand:24, honey:10.2, fungi:20},
    Carrier:  {meat:45.619, plant:58.8125, soil:20.4, sand:24.6, honey:10.2, fungi:20}
};

// ---------- Utility ----------
function formatValue(value) {
    if (value >= 1e9) return (value/1e9).toFixed(2) + 'G';
    if (value >= 1e6) return (value/1e6).toFixed(2) + 'M';
    if (value >= 1e3) return (value/1e3).toFixed(2) + 'k';
    return value;
}

// ---------- Update function ----------
function update() {
    const antType = document.getElementById('antType').value;
    const qty = Number(document.getElementById('quantityInput').value);
    let entrance = Number(document.getElementById('entranceInput').value);
    entrance = Math.max(0, Math.min(25, entrance)); // strictly capped

    const reduction = entrance / 100;
    const base = costs[antType];

    const finalCost = {
        meat: Math.ceil(base.meat * qty * (1 - reduction)),
        plant: Math.ceil(base.plant * qty * (1 - reduction)),
        soil: Math.ceil(base.soil * qty * (1 - reduction)),
        sand: Math.ceil(base.sand * qty * (1 - reduction)),
        honey: Math.ceil(base.honey * qty * (1 - reduction)),
        fungi: base.fungi * qty
    };

    document.getElementById('meat').textContent = formatValue(finalCost.meat);
    document.getElementById('plant').textContent = formatValue(finalCost.plant);
    document.getElementById('soil').textContent = formatValue(finalCost.soil);
    document.getElementById('sand').textContent = formatValue(finalCost.sand);
    document.getElementById('honey').textContent = formatValue(finalCost.honey);
    document.getElementById('fungi').textContent = formatValue(finalCost.fungi);
}

// ---------- DOM elements ----------
const qtySlider = document.getElementById('quantitySlider');
const qtyInput = document.getElementById('quantityInput');
const entranceSlider = document.getElementById('entranceSlider');
const entranceInput = document.getElementById('entranceInput');

// ---------- Event listeners ----------
qtySlider.addEventListener('input', () => { qtyInput.value = qtySlider.value; update(); });
qtyInput.addEventListener('input', () => { qtySlider.value = qtyInput.value; update(); });

entranceSlider.addEventListener('input', () => { entranceInput.value = entranceSlider.value; update(); });
entranceInput.addEventListener('input', () => { 
    let val = Number(entranceInput.value);
    if (val < 0) val = 0; 
    if (val > 25) val = 25;
    entranceInput.value = val;
    entranceSlider.value = val;
    update(); 
});

document.getElementById('antType').addEventListener('change', update);

// Initial update
update();

</script>
</body>
</html>
